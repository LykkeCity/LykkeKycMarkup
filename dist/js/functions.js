function initResize(){$(window).resize(function(){setTimeout(function(){$(".header_container").css({height:$(".header").outerHeight()})},30),$(".video iframe").css({maxHeight:$(window).outerHeight()-$("header").outerHeight()}),$("body").css({paddingBottom:$("footer").outerHeight()})}).trigger("resize")}function initEventsOnClick(){isMobile||$("body").on("click",'a[href^="tel:"]',function(){$(this).attr("href",$(this).attr("href").replace(/^tel:/,"callto:"))})}function initEventsOnScroll(){$(window).scroll(function(){var e=$(window).height()+$(window).scrollTop(),t=$(document).height()-$(".footer").outerHeight(),a=20;e>t+a?$("body").addClass("footer_in_view").find("#launcher, .btn_feedback").css({bottom:$(".footer").outerHeight()}):$("body").removeClass("footer_in_view").find("#launcher, .btn_feedback").css({bottom:0})}).trigger("scroll")}function initHeader(){isMobile||768>=wW?$(".header_nav .nav_list__item > a").on("click",function(e){e.stopPropagation();$(this).attr("href");return $(this).parent(".nav_list__item").hasClass("nav_list__item--selected")?!0:($(".header_nav").addClass("header_nav--selected"),$(".header_nav .nav_list__item").removeClass("nav_list__item--selected"),$(this).parent(".nav_list__item").addClass("nav_list__item--selected"),e.preventDefault(),void 0)}):hideSubMenu(),$(".btn_menu").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").addClass("body--menu_opened"),$(".sidebar_menu").addClass("sidebar_menu--open")}),$(".sidebar_menu, .header_search").on("click",function(e){e.stopPropagation()}),$("body, .btn_close_menu, .menu_overlay, .btn_close_header").on("click",function(){$("body").removeClass("body--menu_opened body--search_showed"),$(".sidebar_menu").removeClass("sidebar_menu--open"),$(".header_search").removeClass("header_search--show"),hideSubMenu()}),$(".btn_open_search").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").addClass("body--search_showed"),$(".header_search").addClass("header_search--show")})}function hideSubMenu(){$(".header_nav").removeClass("header_nav--selected"),$(".nav_list__item").removeClass("nav_list__item--selected")}function initSmoothScroll(){$(".smooth_scroll").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash),t=$(this).data("scroll-offset")?$(this).data("scroll-offset"):0;if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top-t},1e3),!1}})}function initAffix(){$(".btn_affix").affix({offset:{top:function(){return this.top=$(".site_nav").offset().top-$(".header_container").outerHeight()}}}),$(window).resize(function(){$(".btn_affix").css({right:$(".header .container").offset().left+15})}).trigger("resize")}function initStickyNav(){function e(){var e=$(this).scrollTop();Math.abs(a-e)<=i||(e>a&&e>n?(hideSubMenu(),$(".header_nav, .header, .btn_affix").removeClass("nav_down").addClass("nav_up")):(hideSubMenu(),e+$(window).height()<$(document).height()&&$(".header_nav, .header, .btn_affix").removeClass("nav_up").addClass("nav_down")),a=e)}var t,a=0,i=5,n=$(".header_nav").outerHeight();$(window).scroll(function(e){t=!0}),setInterval(function(){t&&(e(),t=!1)},250),$(window).resize(function(){setTimeout(function(){$(".header_nav").css({paddingTop:$(".header").outerHeight()})},30)}).trigger("resize")}function initFileUpload(){$("._upload_file").on(touchendOrClick,function(e){function t(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$(a).parents(".fileupload").removeClass("fileupload--fail").addClass("fileupload--uploaded").attr("style","background-image: url("+e.target.result+")")},t.readAsDataURL(e.files[0])}}e.preventDefault();var a=$(this).data("file-id");$(a).click().on("change",function(){t(this)})})}function IniciarPermisos(){canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),video=document.getElementById("video"),videoObj={video:!0},errBack=function(e){console.log("Video capture error: ",e.code)},navigator.getUserMedia?navigator.mediaDevices.getUserMedia(videoObj).then(function(e){video.src=window.URL.createObjectURL(e),url64=window.URL.createObjectURL(e),video.play(),_stream=e})["catch"](function(e){alert("sucedio un error 1: "+e)}):navigator.webkitGetUserMedia?navigator.mediaDevices.getUserMedia(videoObj).then(function(e){video.src=window.URL.createObjectURL(e),url64=window.URL.createObjectURL(e),video.play(),_stream=e})["catch"](function(e){alert("sucedio un error 2: "+e)}):navigator.mozGetUserMedia&&navigator.mediaDevices.getUserMedia(videoObj).then(function(e){video.src=window.URL.createObjectURL(e),url64=window.URL.createObjectURL(e),video.play(),_stream=e})["catch"](function(e){alert("sucedio un error 3: "+e)})}function CerrarWebCam(){_stream.getVideoTracks()[0].stop(),video.src=""}function Capturar(){0==_Cancelar&&(context.drawImage(video,0,0,320,240),GenerateImg(),_capturas+=1)}function GenerateImg(){id("canvas").toDataURL("image/png")}function id(e){return document.getElementById(e)}function GetNumberKey(e){var t=e.charCode;return 1>t&&(t=e.keyCode),t}function Iniciar(){_capturas=0,_pausa=!1,_Cancelar=!1,IniciarAutomatico()}function IniciarAutomatico(){0==_Cancelar&&0==_pausa&&(_capturas+=1,120==_capturas&&(_pausa=!0),Capturar(),setTimeout(IniciarAutomatico,500))}function MostrarModalwebCam(){$("#mdWebCam").dialog({dialogClass:"modal",maxWidth:300,modal:!0,resizable:!0,close:function(){CerrarWebCam()}}),$("#btnAccept").hide(),$("#btnDelete").hide(),$("#btnCapturar").show(),IniciarPermisos(!0),$("#mdWebCam").show()}var wH=$(window).height(),wW=$(window).width(),ua=navigator.userAgent,touchendOrClick=ua.match(/iPad|iPhone|iPad/i)?"touchend":"click",deviceAgent=navigator.userAgent.toLowerCase(),isMobile=deviceAgent.match(/(iphone|ipod|ipad)/);isMobile||767>=wW?$("body").addClass("is_mobile"):$("body").removeClass("is_mobile"),$(document).ready(function(){initResize(),initEventsOnClick(),initEventsOnScroll(),initHeader(),initStickyNav(),initSmoothScroll(),initAffix(),initFileUpload()});var canvas=null;context=null,url64=null;var _stream=null,_Cancelar=!1,_capturas=0,_pausa=!1;$(function(){$("#mdWebCam").hide(),$("#btnCapturar").click(function(){_Cancelar=!1,Capturar(),video.pause(),$("#btnAccept").show(),$("#btnDelete").show(),$("#btnCapturar").hide();id("canvas").toDataURL("image/png")}),$("#btnDelete").click(function(){video.play(),$("#btnAccept").hide(),$("#btnDelete").hide(),$("#btnCapturar").show()}),$("#btnAccept").click(function(){$("#mdWebCam").dialog("close"),CerrarWebCam();id("canvas").toDataURL("image/png")})});